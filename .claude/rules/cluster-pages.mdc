# üéØ AI Cluster Page Generation System - SEO Pillar Pages That Rank

> **GOAL**: Generate world-class cluster/pillar pages that serve as content hubs, link to related content, and dominate broad keyword rankings with exceptional UI and user experience.

## üö® **CRITICAL ARCHITECTURE REQUIREMENTS** ‚úÖ MUST READ FIRST

‚ö†Ô∏è **BREAKING CHANGES FIXED**: Following these patterns prevents ALL Next.js errors:

1. **‚úÖ 3-File Architecture**: Always create `page.tsx` (server) + `client-wrapper.tsx` + `interactive-client.tsx`
2. **‚úÖ NO "use client" in page.tsx**: Metadata exports only work in server components
3. **‚úÖ Correct Schema Imports**: Use proper schema components with required props
4. **‚úÖ Proper Component Separation**: Interactive features in client components only
5. **‚úÖ Rich Internal Linking**: Cluster pages MUST link to all related blog posts and pages
6. **‚úÖ MANDATORY ELIGIBILITY FORM**: ALL cluster pages MUST include `EligibilityWizardFormWrapper` component
7. **‚úÖ MANDATORY HERO IMAGE**: Generate hero image via `/api/generate-eco4-blog-image` (Gemini API + Vercel Blob storage)
8. **‚úÖ VERIFY ALL LINKS**: Ensure ALL internal links point to existing pages (check `/app` directory structure)

**Result**: Error-free cluster page generation with exceptional UX and SEO performance! üéØ

---

## üìã COMPLETE CLUSTER PAGE GENERATION CHECKLIST

### üéØ PHASE 1: CLUSTER PAGE STRATEGY & PLANNING

#### **What is a Cluster/Pillar Page?**
A cluster page is a comprehensive hub page that:
- Covers a **broad topic** comprehensively (e.g., "ECO4 Scheme Guide")
- Links to **multiple related subtopic pages** (e.g., eligibility, application, grants)
- Serves as the **authoritative resource** for a topic category
- Ranks for **high-volume, competitive keywords**
- Provides **navigation and discovery** for all related content

#### **Cluster Page vs Blog Post:**
| Feature | Cluster Page | Blog Post |
|---------|--------------|-----------|
| **Topic Scope** | Broad (category-level) | Narrow (specific question) |
| **Content Length** | 3000-5000+ words | 2000-3000 words |
| **Internal Links** | 15-30+ to subtopics | 5-10 contextual links |
| **Keyword Target** | High-volume competitive | Long-tail specific |
| **Update Frequency** | Regular updates | Occasional updates |
| **Purpose** | Hub + Navigation | Detailed answer |

---

- [ ] **1.1 Cluster Topic Analysis**
  - [ ] Identify broad topic category (e.g., "ECO4 Scheme", "Free Boiler Grants", "Energy Efficiency")
  - [ ] Research high-volume primary keyword (1000+ monthly searches)
  - [ ] Map out 10-15 related subtopics for internal linking
  - [ ] Identify user intent: informational, navigational, or transactional
  - [ ] Set target word count (3000-5000+ words for authority)

- [ ] **1.2 Content Hub Structure Planning**
  - [ ] Generate SEO-optimized slug from broad keyword
  - [ ] Create comprehensive H1 with primary keyword
  - [ ] Plan 10-15 H2 sections covering all aspects of the topic
  - [ ] Map related blog posts and pages to link to
  - [ ] Design navigation card grid for subtopic discovery

- [ ] **1.3 File Creation Setup** ‚úÖ UPDATED ARCHITECTURE
  - [ ] Create cluster page folder: `/app/[cluster-slug]/`
  - [ ] ‚ö†Ô∏è **CRITICAL**: Use 3-file architecture (NEVER single file):
    - [ ] `/app/[cluster-slug]/page.tsx` (Server Component - metadata + static content)
    - [ ] `/app/[cluster-slug]/client-wrapper.tsx` (Client Component - scroll progress + floating buttons)
    - [ ] `/app/[cluster-slug]/interactive-client.tsx` (Client Component - interactive cards + filters)
  - [ ] Set up metadata with comprehensive SEO optimization
  - [ ] ‚ö†Ô∏è **NEVER use "use client" in page.tsx** - causes metadata export errors

---

### üñºÔ∏è PHASE 2: ECO4-FOCUSED HERO IMAGE GENERATION (CLUSTER-SPECIFIC)

- [ ] **2.1 ECO4 Cluster Hero Image Generation** ‚úÖ MANDATORY VERCEL BLOB STORAGE
  - [ ] ‚ö†Ô∏è **CRITICAL**: ALWAYS call `/api/generate-eco4-blog-image` to generate AND store hero images
  - [ ] ‚ö†Ô∏è **NEVER use direct Unsplash URLs** - images MUST be stored in Vercel Blob storage
  - [ ] Use ECO4 parameters optimized for BROAD topics:
    ```json
    {
      "topic": "Complete Guide to ECO4 Scheme UK 2025",
      "keywords": ["eco4 scheme", "free boiler", "energy efficiency", "government grants"],
      "style": "professional",
      "size": "hero"
    }
    ```
  - [ ] System automatically categorizes topic into ECO4 themes
  - [ ] ‚ö†Ô∏è **MANDATORY**: Returns consistent ECO4-branded Vercel Blob URL
  - [ ] Verifies ECO4 relevance and applies consistent color scheme
  - [ ] **VALIDATION**: Verify returned URL starts with `https://fmfgckv7ej9nql4p.public.blob.vercel-storage.com/`

- [ ] **2.2 ECO4-Standardized Assets** ‚úÖ GOVERNMENT SCHEME BRANDING
  - [ ] **Author Image**: Always use `https://fmfgckv7ej9nql4p.public.blob.vercel-storage.com/peter.jpg`
  - [ ] **Author Name**: Always "Peter Davies, ECO4 Analyst"
  - [ ] **Trust Signals**: ECO4 government backing, Ofgem accreditation, Gas Safe certification

---

### üìù PHASE 3: CLUSTER PAGE CONTENT STRUCTURE (OPTIMIZED FOR NAVIGATION & SEO)

#### **MANDATORY CONTENT SECTIONS** (Use in this exact order):

- [ ] **3.1 Hero Section - Cluster Page Optimized** ‚úÖ WITH MANDATORY HERO IMAGE
  ```tsx
  // Use this exact structure for cluster pages:
  <section className="relative overflow-hidden bg-gradient-to-br from-primary/5 via-white to-accent/5">
    {/* Background Effects - Enhanced for Cluster Pages */}
    <div className="absolute inset-0">
      <div className="absolute top-20 left-20 w-40 h-40 bg-primary/20 rounded-full blur-3xl animate-pulse"></div>
      <div className="absolute bottom-40 right-20 w-56 h-56 bg-accent/20 rounded-full blur-3xl animate-pulse delay-1000"></div>
      {/* Grid Pattern for Authority */}
      <div className="absolute inset-0 bg-grid-pattern opacity-5"></div>
    </div>

    {/* CLUSTER PAGE LAYOUT: CENTERED CONTENT + BREADCRUMB TRAIL */}
    <div className="container mx-auto px-4 py-20 lg:py-28 relative z-10">
      <div className="max-w-5xl mx-auto text-center">
        {/* Breadcrumb for cluster hierarchy */}
        {/* Topic badges showing cluster category */}
        {/* Compelling H1 with primary keyword */}
        {/* Comprehensive description (150-200 words) */}
        {/* CTA buttons + Quick stats */}

        {/* ‚ö†Ô∏è MANDATORY HERO IMAGE - Generated via /api/generate-eco4-blog-image */}
        <div className="mx-auto mt-8 max-w-4xl">
          <ResponsiveImage
            src="VERCEL_BLOB_URL_FROM_API"
            alt="SEO-optimized descriptive alt text related to cluster topic"
            className="rounded-2xl shadow-2xl"
            aspectRatio="video"
            priority
          />
        </div>
      </div>
    </div>
  </section>
  ```

  **‚ö†Ô∏è CRITICAL HERO IMAGE REQUIREMENTS:**
  - [ ] **ALWAYS generate hero image** using `/api/generate-eco4-blog-image` API
  - [ ] Pass cluster topic as `topic` parameter (e.g., "ECO4 Government Funding Grant Scheme - Complete UK Guide 2025")
  - [ ] Use relevant keywords array (e.g., ["eco4 government funding", "free boiler grants", "government energy scheme"])
  - [ ] Set `style: "professional"` and `size: "hero"` for cluster pages
  - [ ] **Verify returned URL** starts with `https://fmfgckv7ej9nql4p.public.blob.vercel-storage.com/`
  - [ ] **Update all metadata** with generated image URL (openGraph.images, twitter.images)
  - [ ] **Update schema markup** with generated image URL (ArticleSchema, SocialMeta)
  - [ ] Use `priority` prop on ResponsiveImage for LCP optimization
  - [ ] Use descriptive alt text with primary keyword for SEO
  - [ ] Place hero image AFTER H1/description and BEFORE stats/CTA buttons

- [ ] **3.2 Quick Navigation Cards Section** ‚úÖ CRITICAL FOR CLUSTER PAGES
  ```tsx
  // Interactive card grid linking to all subtopics:
  <section className="py-16 bg-white">
    <div className="container mx-auto px-4">
      <div className="text-center mb-12">
        <h2 className="text-3xl font-bold text-british-navy mb-4">
          Everything You Need to Know About [Topic]
        </h2>
        <p className="text-lg text-muted-foreground max-w-3xl mx-auto">
          Explore our comprehensive guides covering all aspects of [topic]
        </p>
      </div>

      {/* 3-4 column grid of interactive cards */}
      <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
        {subtopicCards.map((card, index) => (
          <Link href={card.url} key={index}>
            <Card className="group h-full hover:shadow-british-xl transition-all duration-300 hover:-translate-y-1">
              <CardHeader>
                <div className="w-16 h-16 bg-gradient-to-br from-primary to-accent rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform">
                  <card.Icon className="h-8 w-8 text-white" />
                </div>
                <CardTitle className="text-xl group-hover:text-primary transition-colors">
                  {card.title}
                </CardTitle>
              </CardHeader>
              <CardContent>
                <p className="text-muted-foreground mb-4">{card.excerpt}</p>
                <div className="flex items-center text-primary font-semibold">
                  Learn More <ArrowRight className="ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform" />
                </div>
              </CardContent>
            </Card>
          </Link>
        ))}
      </div>
    </div>
  </section>
  ```

- [ ] **3.3 Comprehensive Overview Section** ‚úÖ DETAILED CONTENT
  ```tsx
  // Main content area with rich, comprehensive information:
  <section className="py-16 bg-gray-50">
    <div className="container mx-auto px-4">
      <div className="grid lg:grid-cols-3 gap-12">
        {/* Main Content (66%) */}
        <article className="lg:col-span-2 space-y-12">
          {/* 10-15 comprehensive H2 sections */}
          {/* Each section 300-500 words */}
          {/* Rich with internal links to related pages */}
          {/* Include data tables, statistics, examples */}
        </article>

        {/* Sticky Sidebar (33%) */}
        <aside className="lg:col-span-1">
          <div className="sticky top-24 space-y-8">
            {/* Table of Contents */}
            {/* Quick Links to Subtopics */}
            {/* Related Resources */}
            {/* CTA Widget */}
          </div>
        </aside>
      </div>
    </div>
  </section>
  ```

- [ ] **3.4 Interactive Comparison Tables** ‚úÖ CLUSTER PAGE FEATURE
  ```tsx
  // Data-rich comparison tables for complex topics:
  <section className="py-16 bg-white">
    <div className="container mx-auto px-4">
      <h2 className="text-3xl font-bold text-british-navy text-center mb-12">
        Compare Your Options
      </h2>

      <div className="overflow-x-auto">
        <table className="w-full border-collapse">
          <thead className="bg-primary text-white">
            <tr>
              <th className="p-4 text-left">Feature</th>
              <th className="p-4 text-center">ECO4 Scheme</th>
              <th className="p-4 text-center">LA Flex</th>
              <th className="p-4 text-center">Standard Install</th>
            </tr>
          </thead>
          <tbody>
            {/* Comparison rows with check marks, crosses, values */}
          </tbody>
        </table>
      </div>
    </div>
  </section>
  ```

- [ ] **3.5 Related Blog Posts Grid** ‚úÖ MANDATORY INTERNAL LINKING
  ```tsx
  // Grid of related blog posts for cluster SEO:
  <section className="py-16 bg-gray-50">
    <div className="container mx-auto px-4">
      <h2 className="text-3xl font-bold text-british-navy text-center mb-12">
        Related Guides & Articles
      </h2>

      <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
        {relatedBlogPosts.map((post, index) => (
          <Link href={post.url} key={index}>
            <Card className="group h-full hover:shadow-british-lg transition-all">
              <div className="relative h-48 overflow-hidden rounded-t-xl">
                <ResponsiveImage
                  src={post.image}
                  alt={post.imageAlt}
                  aspectRatio="landscape"
                  className="group-hover:scale-105 transition-transform duration-500"
                />
                <Badge className="absolute top-4 left-4">{post.category}</Badge>
              </div>
              <CardHeader>
                <CardTitle className="text-lg group-hover:text-primary transition-colors line-clamp-2">
                  {post.title}
                </CardTitle>
              </CardHeader>
              <CardContent>
                <p className="text-sm text-muted-foreground line-clamp-3 mb-4">
                  {post.excerpt}
                </p>
                <div className="flex items-center justify-between text-xs text-muted-foreground">
                  <span>{post.readingTime} min read</span>
                  <span className="flex items-center text-primary font-semibold">
                    Read More <ArrowRight className="ml-1 h-3 w-3" />
                  </span>
                </div>
              </CardContent>
            </Card>
          </Link>
        ))}
      </div>

      <div className="text-center mt-12">
        <Link href="/blog">
          <Button size="lg" variant="outline">
            View All Articles <ArrowRight className="ml-2 h-4 w-4" />
          </Button>
        </Link>
      </div>
    </div>
  </section>
  ```

- [ ] **3.6 FAQ Section - Comprehensive** ‚úÖ CLUSTER PAGE OPTIMIZED
  ```tsx
  // Extensive FAQ section (15-20 questions for cluster pages):
  <section className="py-16 bg-white">
    <div className="container mx-auto px-4 max-w-4xl">
      <div className="text-center mb-12">
        <h2 className="text-3xl font-bold text-british-navy mb-4">
          Frequently Asked Questions About [Topic]
        </h2>
        <p className="text-lg text-muted-foreground">
          Everything you need to know about [topic] in one place
        </p>
      </div>

      <Accordion type="single" collapsible className="space-y-4">
        {faqs.map((faq, index) => (
          <AccordionItem
            key={index}
            value={`item-${index}`}
            className="border border-gray-200 rounded-lg px-6 hover:border-primary/50 transition-colors"
          >
            <AccordionTrigger className="text-left font-semibold text-british-navy hover:text-primary">
              {faq.question}
            </AccordionTrigger>
            <AccordionContent className="text-muted-foreground leading-relaxed">
              {faq.answer}
              {/* Include internal links in answers */}
            </AccordionContent>
          </AccordionItem>
        ))}
      </Accordion>
    </div>
  </section>
  ```

- [ ] **3.7 Trust & Authority Section** ‚úÖ CLUSTER PAGE CREDIBILITY
  ```tsx
  // Build authority and trust for broad topics:
  <section className="py-16 bg-gradient-to-br from-primary/5 to-accent/5">
    <div className="container mx-auto px-4">
      <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
        {[
          { icon: Shield, title: "Government Backed", value: "ECO4 Approved" },
          { icon: Users, title: "Installations", value: "7,000+" },
          { icon: Star, title: "Trustpilot Rating", value: "4.9/5" },
          { icon: Award, title: "Customer Satisfaction", value: "95%" }
        ].map((stat, index) => (
          <Card key={index} className="text-center bg-white">
            <CardContent className="pt-8">
              <div className="w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4">
                <stat.icon className="h-8 w-8 text-primary" />
              </div>
              <div className="text-3xl font-bold text-british-navy mb-2">{stat.value}</div>
              <div className="text-sm text-muted-foreground">{stat.title}</div>
            </CardContent>
          </Card>
        ))}
      </div>
    </div>
  </section>
  ```

- [ ] **3.8 Final CTA Section** ‚úÖ CLUSTER PAGE CONVERSION
  ```tsx
  // Strong conversion-focused CTA for cluster pages:
  <section className="py-20 bg-gradient-to-br from-primary via-primary to-primary/90">
    <div className="container mx-auto px-4">
      <div className="max-w-4xl mx-auto text-center text-white">
        <h2 className="text-4xl font-bold mb-6">
          Ready to Get Started with [Topic]?
        </h2>
        <p className="text-xl text-white/90 mb-8">
          Join thousands of UK homeowners who've already benefited from [topic].
          Check your eligibility in 60 seconds.
        </p>
        <div className="flex flex-col sm:flex-row gap-4 justify-center">
          <Link href="/eligibility">
            <Button size="lg" variant="secondary" className="text-lg px-8">
              <Calculator className="mr-2 h-5 w-5" />
              Check Eligibility Now
            </Button>
          </Link>
          <Link href="tel:+447375868046">
            <Button size="lg" variant="outline" className="text-lg px-8 bg-white/10 border-white text-white hover:bg-white/20">
              <Phone className="mr-2 h-5 w-5" />
              Call: 07375 868046
            </Button>
          </Link>
        </div>
        <div className="mt-8 flex items-center justify-center gap-6 text-sm text-white/80">
          <div className="flex items-center gap-2">
            <CheckCircle className="h-5 w-5" />
            No upfront costs
          </div>
          <div className="flex items-center gap-2">
            <CheckCircle className="h-5 w-5" />
            60-second check
          </div>
          <div className="flex items-center gap-2">
            <CheckCircle className="h-5 w-5" />
            Free installation
          </div>
        </div>
      </div>
    </div>
  </section>
  ```

---

### üé® PHASE 4: MANDATORY ARCHITECTURE (EXACT IMPLEMENTATION)

#### **4.1 Next.js App Router Architecture** ‚úÖ CRITICAL FIX

##### **4.1.1 Main Page Component (Server Component)**
```tsx
// ‚úÖ CORRECT: NO "use client" directive for metadata exports
import Link from "next/link"
import { Metadata } from 'next'
import {
  CheckCircle, Shield, Award, Star, ArrowRight, Users, Home, Zap,
  Calculator, Phone, TrendingUp, Target, List, FileText, Lightbulb,
  BookOpen, Layers, Grid, Navigation
} from "lucide-react"

import { Button } from "@/components/ui/button"
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card"
import { Badge } from "@/components/ui/badge"
import { ResponsiveImage } from "@/components/ui/responsive-image"
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs"
import { Accordion, AccordionContent, AccordionItem, AccordionTrigger } from "@/components/ui/accordion"

// ‚úÖ FIXED: Correct schema import paths
import { WebPageSchema } from "@/components/schema-markup/webpage-schema"
import { FAQSchema } from "@/components/schema-markup/faq-schema"
import { OrganizationSchema } from "@/components/schema-markup/organization-schema"
import { BreadcrumbListSchema } from "@/components/schema-markup/breadcrumb-schema"

// ‚úÖ REQUIRED: Import client components for interactive features
import ClientWrapper from "./client-wrapper"
import InteractiveClient from "./interactive-client"

// ‚úÖ MANDATORY: Export metadata from server component
export const metadata: Metadata = {
  title: "Complete Guide to [Topic] | freeboilerupgrade.uk",
  description: "Comprehensive resource hub covering everything about [topic]. Expert guides, eligibility requirements, application process, and real success stories.",
  keywords: ["primary keyword", "secondary keyword 1", "secondary keyword 2"],

  alternates: {
    canonical: `https://freeboilerupgrade.uk/[cluster-slug]`,
    languages: {
      'en-GB': `https://freeboilerupgrade.uk/[cluster-slug]`,
      'en': `https://freeboilerupgrade.uk/[cluster-slug]`
    }
  },

  robots: {
    index: true,
    follow: true,
    googleBot: {
      index: true,
      follow: true,
      'max-image-preview': 'large',
      'max-snippet': 160
    }
  },

  openGraph: {
    title: "Complete Guide to [Topic]",
    description: "Comprehensive resource hub covering everything about [topic]",
    url: `https://freeboilerupgrade.uk/[cluster-slug]`,
    siteName: 'freeboilerupgrade.uk',
    locale: 'en_GB',
    type: 'website',
    images: [{
      url: "vercel-blob-hero-image-url",
      width: 1200,
      height: 630,
      alt: "SEO-optimized alt text"
    }]
  },

  twitter: {
    card: 'summary_large_image',
    title: "Complete Guide to [Topic]",
    description: "Comprehensive resource hub covering everything about [topic]",
    images: ["vercel-blob-hero-image-url"]
  }
}

export default function ClusterPage() {
  return (
    <ClientWrapper pageTitle="Complete Guide to [Topic]">
      {/* ‚úÖ FIXED: Correct schema components */}
      <WebPageSchema
        name="Complete Guide to [Topic]"
        url="https://freeboilerupgrade.uk/[cluster-slug]"
        description="Comprehensive resource hub"
        inLanguage="en-GB"
        isPartOf="https://freeboilerupgrade.uk"
        primaryImageOfPage="vercel-blob-hero-image-url"
      />

      <BreadcrumbListSchema
        items={[
          { name: "Home", url: "/" },
          { name: "[Topic Category]", url: "/[category]" },
          { name: "[Cluster Page Title]", url: "/[cluster-slug]" }
        ]}
      />

      <FAQSchema faqs={faqData} />

      <OrganizationSchema
        name="freeboilerupgrade.uk"
        url="https://freeboilerupgrade.uk"
        logo="https://freeboilerupgrade.uk/logo.webp"
      />

      {/* Static content goes here */}
      <div className="min-h-screen">
        {/* Hero Section */}
        {/* Quick Navigation Cards */}
        {/* Comprehensive Overview */}
        {/* Comparison Tables */}
        {/* Related Blog Posts */}
        {/* FAQ Section */}
        {/* Trust & Authority */}
        {/* Final CTA */}
      </div>

      {/* Interactive components using client component */}
      <InteractiveClient subtopics={subtopicData} />

    </ClientWrapper>
  )
}
```

##### **4.1.2 Client Wrapper Component** ‚úÖ REQUIRED FOR INTERACTIVE FEATURES
Create: `client-wrapper.tsx`
```tsx
"use client"

import { useState, useEffect, ReactNode } from 'react'
import { Calculator, Phone, ArrowUp } from "lucide-react"
import Link from "next/link"
import { Button } from "@/components/ui/button"

interface ClientWrapperProps {
  children: ReactNode
  pageTitle: string
}

export default function ClientWrapper({ children, pageTitle }: ClientWrapperProps) {
  const [scrollProgress, setScrollProgress] = useState(0)
  const [showScrollTop, setShowScrollTop] = useState(false)

  useEffect(() => {
    const updateScroll = () => {
      const scrollPx = document.documentElement.scrollTop
      const winHeightPx = document.documentElement.scrollHeight - document.documentElement.clientHeight
      const scrolled = scrollPx / winHeightPx * 100
      setScrollProgress(scrolled)
      setShowScrollTop(scrollPx > 500)
    }
    window.addEventListener('scroll', updateScroll)
    return () => window.removeEventListener('scroll', updateScroll)
  }, [])

  const scrollToTop = () => {
    window.scrollTo({ top: 0, behavior: 'smooth' })
  }

  return (
    <>
      {/* Reading Progress Bar */}
      <div className="fixed top-0 left-0 w-full h-1 bg-gray-200 z-50">
        <div
          className="h-full bg-gradient-to-r from-primary to-accent transition-all duration-300"
          style={{ width: `${scrollProgress}%` }}
        />
      </div>

      {/* Main Content */}
      {children}

      {/* Floating Action Buttons */}
      <div className="fixed bottom-6 right-6 flex flex-col gap-3 z-40">
        <Link href="/eligibility">
          <Button className="rounded-full shadow-british-lg bg-accent text-white hover:bg-accent/90 px-6 whitespace-nowrap transform hover:scale-105 transition-all duration-300">
            <Calculator className="mr-2 h-4 w-4" />
            Check Eligibility
          </Button>
        </Link>

        <Link href="tel:+447375868046" className="lg:hidden">
          <Button className="rounded-full shadow-british-lg bg-green-600 text-white hover:bg-green-700 px-6 whitespace-nowrap transform hover:scale-105 transition-all duration-300">
            <Phone className="mr-2 h-4 w-4" />
            Call Now
          </Button>
        </Link>

        {showScrollTop && (
          <Button
            onClick={scrollToTop}
            className="rounded-full shadow-british-lg bg-white text-primary hover:bg-gray-50 w-12 h-12 p-0"
            title="Scroll to top"
          >
            <ArrowUp className="h-5 w-5" />
          </Button>
        )}
      </div>
    </>
  )
}
```

##### **4.1.3 Interactive Client Component** ‚úÖ REQUIRED FOR FILTERS & CARDS
Create: `interactive-client.tsx`
```tsx
"use client"

import { useState } from 'react'
import Link from "next/link"
import { Search, Filter, ArrowRight } from "lucide-react"
import { Button } from "@/components/ui/button"
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card"
import { Input } from "@/components/ui/input"
import { Badge } from "@/components/ui/badge"

interface Subtopic {
  title: string
  url: string
  excerpt: string
  category: string
  icon: any
  keywords: string[]
}

interface InteractiveClientProps {
  subtopics: Subtopic[]
}

export default function InteractiveClient({ subtopics }: InteractiveClientProps) {
  const [searchTerm, setSearchTerm] = useState("")
  const [activeFilter, setActiveFilter] = useState("all")

  const categories = ["all", ...new Set(subtopics.map(s => s.category))]

  const filteredSubtopics = subtopics.filter(subtopic => {
    const matchesSearch = subtopic.title.toLowerCase().includes(searchTerm.toLowerCase()) ||
                         subtopic.excerpt.toLowerCase().includes(searchTerm.toLowerCase()) ||
                         subtopic.keywords.some(k => k.toLowerCase().includes(searchTerm.toLowerCase()))

    const matchesFilter = activeFilter === "all" || subtopic.category === activeFilter

    return matchesSearch && matchesFilter
  })

  return (
    <section className="py-16 bg-gray-50">
      <div className="container mx-auto px-4">
        {/* Search & Filter Controls */}
        <div className="max-w-4xl mx-auto mb-12">
          <div className="flex flex-col md:flex-row gap-4">
            <div className="relative flex-1">
              <Search className="absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground" />
              <Input
                type="text"
                placeholder="Search guides and resources..."
                className="pl-10 h-12"
                value={searchTerm}
                onChange={(e) => setSearchTerm(e.target.value)}
              />
            </div>
            <div className="flex gap-2 overflow-x-auto pb-2 md:pb-0">
              {categories.map(category => (
                <Button
                  key={category}
                  variant={activeFilter === category ? "default" : "outline"}
                  onClick={() => setActiveFilter(category)}
                  className="whitespace-nowrap"
                >
                  {category === "all" ? "All Topics" : category}
                </Button>
              ))}
            </div>
          </div>
        </div>

        {/* Results Count */}
        <div className="text-center mb-8 text-muted-foreground">
          Showing {filteredSubtopics.length} of {subtopics.length} resources
        </div>

        {/* Interactive Card Grid */}
        <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
          {filteredSubtopics.map((subtopic, index) => (
            <Link href={subtopic.url} key={index}>
              <Card className="group h-full hover:shadow-british-xl transition-all duration-300 hover:-translate-y-1 cursor-pointer">
                <CardHeader>
                  <div className="flex items-start justify-between mb-4">
                    <div className="w-14 h-14 bg-gradient-to-br from-primary to-accent rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform">
                      <subtopic.icon className="h-7 w-7 text-white" />
                    </div>
                    <Badge variant="secondary">{subtopic.category}</Badge>
                  </div>
                  <CardTitle className="text-xl group-hover:text-primary transition-colors">
                    {subtopic.title}
                  </CardTitle>
                </CardHeader>
                <CardContent>
                  <p className="text-muted-foreground mb-4 line-clamp-3">
                    {subtopic.excerpt}
                  </p>
                  <div className="flex items-center text-primary font-semibold text-sm">
                    Learn More
                    <ArrowRight className="ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform" />
                  </div>
                </CardContent>
              </Card>
            </Link>
          ))}
        </div>

        {/* No Results Message */}
        {filteredSubtopics.length === 0 && (
          <div className="text-center py-12">
            <p className="text-xl text-muted-foreground mb-4">
              No resources found matching your search
            </p>
            <Button onClick={() => { setSearchTerm(""); setActiveFilter("all") }}>
              Clear Filters
            </Button>
          </div>
        )}
      </div>
    </section>
  )
}
```

---

### üìä PHASE 5: WORLD-CLASS SEO OPTIMIZATION FOR CLUSTER PAGES

- [ ] **5.1 Enhanced Metadata Generation** ‚úÖ CLUSTER PAGE SEO
  ```tsx
  export const metadata: Metadata = {
    title: `${broadTopic} | Complete UK Guide 2025 | freeboilerupgrade.uk`,
    description: `Everything you need to know about ${broadTopic}. Comprehensive guides, eligibility requirements, application process, success stories. Save ¬£800+ annually.`,
    keywords: [primaryKeyword, ...secondaryKeywords, ...relatedTopics],

    alternates: {
      canonical: `https://freeboilerupgrade.uk/${clusterSlug}`,
    },

    openGraph: {
      type: 'website', // Note: 'website' not 'article' for cluster pages
      title: broadTopic,
      description: comprehensiveDescription,
      url: `https://freeboilerupgrade.uk/${clusterSlug}`,
      siteName: 'freeboilerupgrade.uk',
      images: [{ url: vercelBlobImageUrl }]
    }
  }
  ```

- [ ] **5.2 Internal Linking Strategy** ‚úÖ CRITICAL FOR CLUSTER PAGES
  - [ ] Link to 10-15 related blog posts within content
  - [ ] Use descriptive anchor text with keywords
  - [ ] Link to related cluster pages (sibling clusters)
  - [ ] Link to relevant product/service pages
  - [ ] Create topic hub navigation (parent-child relationships)
  - [ ] Use breadcrumb schema for hierarchy

- [ ] **5.3 Content Freshness Signals** ‚úÖ CLUSTER PAGE AUTHORITY
  - [ ] Include "Updated: [Date]" badge in hero
  - [ ] Add "Last reviewed: [Date]" timestamp
  - [ ] Highlight "2025 Updates" section
  - [ ] Show recent blog posts in related content
  - [ ] Display statistics with current year
  - [ ] Update metadata modifiedTime regularly

---

### üéØ PHASE 6: CONTENT GENERATION (COMPREHENSIVE & AUTHORITATIVE)

- [ ] **6.1 Introduction Content** (300-400 words)
  - [ ] Start with expert positioning
  - [ ] Provide direct value proposition
  - [ ] Include current statistics (2025)
  - [ ] Address primary user intent
  - [ ] Highlight key benefits overview
  - [ ] Link to quick navigation cards

- [ ] **6.2 Main Content Sections** (10-15 H2 sections)
  - [ ] Each section 400-600 words (more depth than blog posts)
  - [ ] Include data tables and comparisons
  - [ ] Add visual elements (charts, diagrams if needed)
  - [ ] Internal link to 2-3 related pages per section
  - [ ] Use subheadings (H3) for scanability
  - [ ] Include real examples and case studies

- [ ] **6.3 FAQ Content** (15-20 questions - more than blog posts)
  - [ ] Cover broad topic comprehensively
  - [ ] Answer common subtopic questions
  - [ ] Include comparison questions
  - [ ] Address misconceptions
  - [ ] Link to detailed guides in answers
  - [ ] Optimize for featured snippets

---

### üì± PHASE 7: MOBILE-FIRST OPTIMIZATION (CLUSTER PAGE SPECIFIC)

- [ ] **7.1 Mobile Navigation**
  - [ ] Sticky header with quick links
  - [ ] Mobile-friendly card grid (1-2 columns)
  - [ ] Touch-optimized filter buttons
  - [ ] Collapsible table of contents
  - [ ] Mobile search functionality

- [ ] **7.2 Performance Optimization**
  - [ ] Lazy load below-the-fold cards
  - [ ] Optimize hero image for mobile
  - [ ] Fast search/filter interactions
  - [ ] Minimal layout shift (CLS < 0.1)
  - [ ] Progressive enhancement for interactivity

---

### üîç PHASE 8: CLUSTER PAGE VALIDATION & QUALITY ASSURANCE

#### **8.1 MANDATORY CLUSTER PAGE CHECKLIST**
- [ ] ‚úÖ **Broad Topic Coverage**: Comprehensive 3000-5000+ words
- [ ] ‚úÖ **Quick Navigation Cards**: 10-15 subtopic cards with icons and links
- [ ] ‚úÖ **Internal Linking**: 15-30+ links to related pages
- [ ] ‚úÖ **Comparison Tables**: Data-rich tables for complex comparisons
- [ ] ‚úÖ **Related Blog Grid**: Grid of 6-9 related blog posts with images
- [ ] ‚úÖ **Comprehensive FAQ**: 15-20 questions covering all aspects
- [ ] ‚úÖ **Trust Signals**: Statistics, certifications, authority indicators
- [ ] ‚úÖ **Interactive Search**: Client-side search and filter functionality
- [ ] ‚úÖ **Breadcrumb Navigation**: Clear hierarchy and navigation path
- [ ] ‚úÖ **Schema Markup**: WebPage, Organization, FAQ, BreadcrumbList schemas

#### **8.2 CLUSTER PAGE SEO VALIDATION**
- [ ] ‚úÖ **Primary Keyword**: In H1, title, first 100 words, URL
- [ ] ‚úÖ **Secondary Keywords**: In H2s, throughout content naturally
- [ ] ‚úÖ **Internal Link Density**: 15-30 contextual internal links
- [ ] ‚úÖ **Content Depth**: 3000-5000+ words covering topic comprehensively
- [ ] ‚úÖ **Subtopic Coverage**: All major subtopics addressed
- [ ] ‚úÖ **Freshness Signals**: Updated dates, current year references
- [ ] ‚úÖ **E-A-T Optimization**: Author credentials, sources, trust signals

#### **8.3 CLUSTER PAGE UX VALIDATION**
- [ ] ‚úÖ **Quick Discovery**: Users can find subtopics in < 10 seconds
- [ ] ‚úÖ **Clear Hierarchy**: Visual hierarchy guides users through content
- [ ] ‚úÖ **Interactive Elements**: Search, filters, and cards work smoothly
- [ ] ‚úÖ **Mobile Experience**: Perfect mobile responsiveness and touch targets
- [ ] ‚úÖ **Page Speed**: Lighthouse 95+ scores across all metrics
- [ ] ‚úÖ **Conversion Path**: Clear CTAs to eligibility checker and contact

---

### üéØ PHASE 9: CLUSTER PAGE SPECIFIC DATA OBJECTS

```tsx
// ‚úÖ MANDATORY: Subtopic navigation cards (10-15 items)
const subtopicCards = [
  {
    title: "ECO4 Eligibility Requirements",
    url: "/blog/eco4-eligibility-requirements",
    excerpt: "Learn who qualifies for free boiler grants under ECO4 scheme eligibility criteria.",
    category: "Eligibility",
    icon: CheckCircle,
    keywords: ["eligibility", "requirements", "qualify"]
  },
  {
    title: "How to Apply for ECO4 Grant",
    url: "/blog/how-to-apply-eco4-grant",
    excerpt: "Step-by-step guide to applying for your free boiler installation grant.",
    category: "Application",
    icon: FileText,
    keywords: ["apply", "application", "process"]
  },
  // ... 8-13 more subtopic cards
]

// ‚úÖ MANDATORY: Related blog posts (6-9 items)
const relatedBlogPosts = [
  {
    title: "Can Pensioners Get Free Boiler Replacement?",
    url: "/blog/pensioners-free-boiler-replacement",
    excerpt: "Complete guide for UK pensioners seeking free boiler replacement under ECO4.",
    image: "vercel-blob-url",
    imageAlt: "UK pensioner receiving free boiler grant",
    category: "Pensioners",
    readingTime: 12
  },
  // ... 5-8 more related blog posts
]

// ‚úÖ MANDATORY: Comparison data (for tables)
const comparisonData = [
  {
    feature: "Cost",
    eco4: "¬£0 - Fully Funded",
    laFlex: "¬£0 - Fully Funded",
    standard: "¬£2,000-¬£4,000"
  },
  // ... more comparison rows
]

// ‚úÖ MANDATORY: FAQ data (15-20 questions)
const faqData = [
  {
    question: "What is the ECO4 scheme?",
    answer: "The ECO4 scheme is a UK government initiative that provides free boiler replacements and energy efficiency improvements to eligible households. Learn more about ECO4 eligibility requirements."
  },
  // ... 14-19 more FAQs
]
```

---

## üöÄ GENERATION COMMAND TEMPLATE

### **USE THIS EXACT PROMPT FOR CLUSTER PAGE GENERATION:**

```
Generate a cluster page following cluster-pages.mdc checklist exactly. Use the broad topic: "[YOUR BROAD TOPIC HERE]"

‚úÖ CRITICAL REQUIREMENTS (Must follow for error-free generation):
1. Follow ALL phases in cluster-pages.mdc (1-9)
2. Complete ALL todos in each phase
3. ‚ö†Ô∏è **Use 3-file architecture**: page.tsx (server) + client-wrapper.tsx + interactive-client.tsx
4. ‚ö†Ô∏è **NEVER use "use client" in page.tsx** - separates metadata export from client features
5. ‚ö†Ô∏è **Use correct schema imports**: WebPageSchema, FAQSchema, OrganizationSchema, BreadcrumbListSchema
6. Use EXACT component implementations provided
7. ‚ö†Ô∏è **MANDATORY: Generate Vercel Blob hero image** via /api/generate-eco4-blog-image
8. ‚ö†Ô∏è **VALIDATE: Hero image URL MUST start with** `https://fmfgckv7ej9nql4p.public.blob.vercel-storage.com/`
9. Create **10-15 subtopic navigation cards** with internal links
10. Include **15-30 internal links** throughout content
11. Add **6-9 related blog post cards** with images
12. Create **15-20 comprehensive FAQ questions**
13. Include **interactive search and filter** functionality
14. Add **comparison tables** for data-rich sections
15. Implement **breadcrumb navigation** with schema markup
16. Ensure **3000-5000+ words** of comprehensive content
17. Create directory at /app/[cluster-slug]/ with 3 files

‚úÖ CLUSTER PAGE CHARACTERISTICS:
- Broad topic coverage (not specific questions)
- Hub for related subtopic pages
- High internal link density
- Interactive navigation and discovery
- Comparison tables and data displays
- Comprehensive FAQ (15-20 questions)
- Trust and authority building
- Multiple conversion paths

This ensures error-free generation with exceptional UX and SEO performance.
```

---

## üîß TROUBLESHOOTING CLUSTER PAGE ISSUES

### **Common Cluster Page Problems:**

1. **Too Blog-Like**: Cluster pages should be broader, not answer-focused
2. **Low Internal Links**: Cluster pages need 15-30+ internal links
3. **Missing Navigation**: Must have interactive card grid for subtopics
4. **Insufficient Depth**: Needs 3000-5000+ words, not 2000-3000
5. **No Comparison Tables**: Cluster pages benefit from data-rich tables
6. **Limited FAQ**: Should have 15-20 FAQs, not 8-12
7. **Weak Hub Function**: Must clearly link to all related subtopics

### **Cluster Page vs Blog Post Quick Check:**

| Element | Cluster Page | Blog Post |
|---------|--------------|-----------|
| Word Count | 3000-5000+ | 2000-3000 |
| H2 Sections | 10-15 | 8-12 |
| Internal Links | 15-30+ | 5-10 |
| FAQ Questions | 15-20 | 8-12 |
| Navigation Cards | 10-15 | 0-3 |
| Comparison Tables | 2-4 | 0-1 |
| Related Posts Grid | Yes (6-9) | Yes (3-6) |
| Interactive Features | Search + Filter | Scroll progress |

---

## üéØ PERFECT CLUSTER PAGE PROMISE

Following this `cluster-pages.mdc` checklist ensures:

- ‚úÖ **Hub Functionality**: Serves as comprehensive resource center
- ‚úÖ **SEO Authority**: Ranks for competitive broad keywords
- ‚úÖ **Internal Linking**: Strong site architecture and link equity distribution
- ‚úÖ **User Discovery**: Easy navigation to all related content
- ‚úÖ **Rich Content**: 3000-5000+ words of authoritative information
- ‚úÖ **Interactive UX**: Search, filters, and dynamic content display
- ‚úÖ **Conversion Optimized**: Multiple CTAs and conversion paths
- ‚úÖ **Mobile Perfect**: Exceptional mobile experience and performance
- ‚úÖ **Schema Optimized**: Complete structured data for search engines
- ‚úÖ **ERROR-FREE**: No Next.js metadata or import path errors

**Result: Every cluster page will be a powerful SEO and UX asset that drives traffic, engages users, and converts visitors!** üöÄ
